<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Article Details - CryptoVerse</title>
  <link rel="stylesheet" href="css/style.css?v=2.0">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    /* Root colors */
    :root {
      --primary-color: #1a1a2e;
      --secondary-color: #16213e;
      --accent-color: #0f3460;
      --highlight-color: #e94560;
      --success-color: #00d4ff;
      --text-light: #eaeaea;
      --border-color: #2a2a4e;
    }

    /* General resets */
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #1a1a2e,#16213e); color: var(--text-light); line-height:1.6; }

    .article-detail-container { max-width:1000px; margin:80px auto 0; padding:40px 20px; }
    .article-back { margin-bottom:30px; }
    .back-btn { color: var(--success-color); text-decoration:none; font-weight:600; transition:0.3s; display:inline-block; }
    .back-btn:hover { color: var(--highlight-color); transform:translateX(-5px); }

    .article-detail-content { background: rgba(22,33,62,0.6); border:1px solid var(--border-color); border-radius:12px; padding:40px; backdrop-filter:blur(10px); }

    .article-detail-header { margin-bottom:40px; padding-bottom:30px; border-bottom:2px solid var(--border-color); }
    .article-detail-emoji { font-size:4rem; display:block; margin-bottom:15px; }
    .article-detail-category { display:inline-block; padding:6px 14px; background: rgba(233,69,96,0.2); color: var(--highlight-color); border-radius:20px; font-size:0.8rem; text-transform:uppercase; margin-bottom:15px; }
    .article-detail-header h1 { font-size:2.2rem; line-height:1.3; margin-bottom:15px; background: linear-gradient(135deg, var(--success-color), var(--highlight-color)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
    .article-meta { color:#999; font-size:0.95rem; }

    .article-detail-body { margin-bottom:30px; }

    .price-chart-section { background: rgba(15,52,96,0.3); border:1px solid var(--border-color); border-radius:10px; padding:25px; margin-bottom:30px; }
    .price-chart-section h2 { margin-bottom:20px; color: var(--success-color); }
    .chart-container { background: rgba(15,52,96,0.5); padding:20px; border-radius:8px; margin-bottom:20px; position:relative; height:300px; }
    .price-stats { display:grid; grid-template-columns:repeat(auto-fit,minmax(150px,1fr)); gap:15px; }
    .stat { background: rgba(15,52,96,0.6); padding:15px; border-radius:8px; display:flex; flex-direction:column; gap:8px; }
    .stat-label { font-size:0.85rem; color:#999; text-transform:uppercase; }
    .stat-value { font-size:1.3rem; font-weight:bold; color: var(--success-color); }

    .article-text-content { background: rgba(15,52,96,0.2); padding:25px; border-radius:10px; margin-bottom:30px; line-height:1.8; }
    .article-text-content p { font-size:1.05rem; margin-bottom:15px; }

    .realtime-updates { background: rgba(15,52,96,0.3); border:1px solid var(--border-color); border-radius:10px; padding:25px; }
    .realtime-updates h2 { margin-bottom:20px; color: var(--success-color); }
    .updates-feed { max-height:400px; overflow-y:auto; display:flex; flex-direction:column; gap:12px; }
    .update-item { background: rgba(15,52,96,0.6); padding:15px; border-left:3px solid var(--highlight-color); border-radius:5px; font-size:0.95rem; animation:slideIn 0.3s ease; }
    .update-item.positive { border-left-color: var(--success-color); }
    .update-item.negative { border-left-color: var(--highlight-color); }

    @keyframes slideIn { from {opacity:0; transform:translateX(-20px);} to {opacity:1; transform:translateX(0);} }

    .article-footer-detail { display:flex; gap:12px; justify-content:flex-end; padding-top:20px; border-top:1px solid var(--border-color); }
    .btn-share,.btn-bookmark,.btn-trade { padding:10px 20px; background: rgba(15,52,96,0.6); border:1px solid var(--border-color); color: var(--text-light); border-radius:6px; cursor:pointer; font-weight:600; transition:0.3s; }
    .btn-share:hover,.btn-bookmark:hover { background: var(--accent-color); border-color: var(--success-color); color: var(--success-color); }
    .btn-trade { background: linear-gradient(135deg, var(--highlight-color), #ff1744); border-color: var(--highlight-color); color:#fff; }
    .btn-trade:hover { transform:scale(1.05); box-shadow:0 5px 20px rgba(233,69,96,0.4); }

    @media(max-width:768px){
      .article-detail-container{padding:20px 15px;margin-top:70px;}
      .article-detail-content{padding:20px;}
      .article-detail-header h1{font-size:1.6rem;}
      .article-detail-emoji{font-size:2.5rem;}
      .article-footer-detail{flex-direction:column;justify-content:stretch;}
      .btn-share,.btn-bookmark,.btn-trade{flex:1;text-align:center;}
      .chart-container{height:250px;}
    }
  </style>
</head>
<body>

<header class="header">
  <div class="logo">‚ö° CRYPTOVERSE</div>
  <nav class="nav">
    <a href="home.html">Home</a>
    <a href="trade.html">Trade</a>
    <a href="wallet.html">Wallet</a>
    <a href="market.html">Market</a>
    <div class="dropdown">
      <a href="#" class="dropdown-toggle">More ‚ñº</a>
      <div class="dropdown-menu">
        <a href="home.html">Home</a>
        <a href="notifications.html">Notifications</a>
        <a href="profile.html">Profile</a>
        <a href="trending.html">Trending Articles</a>
        <a href="news.html">News</a>
        <a href="bookmarks.html">Bookmarks</a>
        <a href="history.html">History</a>
        <a href="creator.html">Creator Center</a>
        <a href="settings.html">Settings</a>
        <a href="support.html">Help & Support</a>
      </div>
    </div>
  </nav>
  <div class="header-profile">
    <span style="color:#66B2FF;font-weight:600;">üë§</span>
    <a href="profile.html" style="color:#fff;text-decoration:none;font-weight:600;">Profile</a>
  </div>
</header>

<main class="article-detail-container">
  <div class="article-back">
    <a href="trending.html" class="back-btn">‚Üê Back to Trending</a>
  </div>

  <article class="article-detail-content">
    <div class="article-detail-header">
      <span class="article-detail-emoji" id="emoji">üì∞</span>
      <span class="article-detail-category" id="category">bitcoin</span>
      <h1 id="title">Loading...</h1>
      <p class="article-meta">
        <span id="time">--:-- ago</span> ‚Ä¢
        <span id="views">-- views</span>
      </p>
    </div>

    <div class="article-detail-body">
      <div class="price-chart-section" id="priceChartSection" style="display:none;">
        <h2>Live Price Chart</h2>
        <div class="chart-container">
          <canvas id="priceChart"></canvas>
        </div>
        <div class="price-stats">
          <div class="stat"><span class="stat-label">Current Price</span><span class="stat-value" id="currentPrice">$--</span></div>
          <div class="stat"><span class="stat-label">24h Change</span><span class="stat-value" id="priceChange">--</span></div>
          <div class="stat"><span class="stat-label">24h High</span><span class="stat-value" id="highPrice">$--</span></div>
          <div class="stat"><span class="stat-label">24h Low</span><span class="stat-value" id="lowPrice">$--</span></div>
        </div>
      </div>

      <div class="article-text-content">
        <p id="description">Loading article content...</p>
      </div>

      <div class="realtime-updates">
        <h2>üìä Real-time Market Updates</h2>
        <div class="updates-feed" id="updatesFeed"><div class="update-item">Initializing real-time data...</div></div>
      </div>
    </div>

    <div class="article-footer-detail">
      <button class="btn-share">üì§ Share</button>
      <button class="btn-bookmark">üîñ Bookmark</button>
      <button class="btn-trade">üíπ Trade Now</button>
    </div>
  </article>
</main>

<script>
let selectedArticle = {
  id: 1,
  emoji:'‚Çø',
  category:'Bitcoin',
  symbol:'BTC',
  title:'Bitcoin Halving 2024',
  time:'5h ago',
  views:1250,
  content:'The next Bitcoin halving is expected to occur in 2024. This event typically impacts the BTC supply and price significantly.',
  price: 34500
};

let priceChart=null, priceHistory=[], updateLog=[], chartUpdateInterval=null;

function displayArticle(){
  document.getElementById('emoji').textContent=selectedArticle.emoji;
  document.getElementById('category').textContent=selectedArticle.category;
  document.getElementById('title').textContent=selectedArticle.title;
  document.getElementById('time').textContent=selectedArticle.time;
  document.getElementById('views').textContent=selectedArticle.views.toLocaleString()+' views';
  document.getElementById('description').textContent=selectedArticle.content;
  if(selectedArticle.price) {
    document.getElementById('priceChartSection').style.display='block';
    initializePriceChart();
  }
  document.title=selectedArticle.title+' - CryptoVerse';
}

function initializePriceChart(){
  priceHistory=[];
  for(let i=23;i>=0;i--){
    const randChange=(Math.random()-0.5)*selectedArticle.price*0.02;
    priceHistory.push({time:`${i}h ago`, price:selectedArticle.price+randChange});
  }
  priceHistory.push({time:'now', price:selectedArticle.price});

  const ctx=document.getElementById('priceChart').getContext('2d');
  priceChart=new Chart(ctx,{
    type:'line',
    data:{
      labels: priceHistory.map(h=>h.time),
      datasets:[{
        label:`${selectedArticle.symbol} Price (USD)`,
        data: priceHistory.map(h=>h.price),
        borderColor:'#00d4ff',
        backgroundColor:'rgba(0,212,255,0.1)',
        borderWidth:2,
        fill:true,
        tension:0.4,
        pointBackgroundColor:'#00d4ff',
        pointBorderColor:'#00d4ff',
        pointRadius:3,
        pointHoverRadius:5
      }]
    },
    options:{
      responsive:true,
      maintainAspectRatio:false,
      plugins:{legend:{labels:{color:'#eaeaea'}}},
      scales:{
        y:{beginAtZero:false, grid:{color:'rgba(42,42,78,0.3)'}, ticks:{color:'#999'}},
        x:{grid:{color:'rgba(42,42,78,0.3)'}, ticks:{color:'#999'}}
      }
    }
  });
  updatePriceStats();
  initializeRealTimeUpdates();
}

function updatePriceStats(){
  const prices=priceHistory.map(h=>h.price);
  const currentPrice=prices[prices.length-1];
  const previousPrice=prices[0];
  const change=((currentPrice-previousPrice)/previousPrice*100).toFixed(2);
  const high=Math.max(...prices).toFixed(2);
  const low=Math.min(...prices).toFixed(2);
  document.getElementById('currentPrice').textContent=`$${currentPrice.toFixed(2)}`;
  document.getElementById('priceChange').textContent=`${change>0?'+':''}${change}%`;
  document.getElementById('highPrice').textContent=`$${high}`;
  document.getElementById('lowPrice').textContent=`$${low}`;
  document.getElementById('priceChange').style.color=parseFloat(change)>=0?'#00d4ff':'#e94560';
}

function addUpdate(message,isPositive=null){
  const feed=document.getElementById('updatesFeed');
  const div=document.createElement('div');
  div.className='update-item';
  if(isPositive!==null) div.classList.add(isPositive?'positive':'negative');
  const ts=new Date().toLocaleTimeString();
  div.textContent=`[${ts}] ${message}`;
  feed.insertBefore(div, feed.firstChild);
  while(feed.children.length>10) feed.removeChild(feed.lastChild);
}

function updateChart(){
  const rand=(Math.random()-0.5)*0.5;
  selectedArticle.price=selectedArticle.price*(1+rand/100);
  priceHistory.shift();
  priceHistory.push({time:'now', price:selectedArticle.price});
  priceChart.data.labels=priceHistory.map(h=>h.time);
  priceChart.data.datasets[0].data=priceHistory.map(h=>h.price);
  priceChart.update('none');
  updatePriceStats();
}

function initializeRealTimeUpdates(){
  const updates=[
    `Volume spike: ${(Math.random()*50+10).toFixed(1)}%`,
    `Large buy order: $${(Math.random()*500000+100000).toFixed(0)}`,
    `Moving avg ${selectedArticle.symbol} crossed 50-day MA`,
    `Institutional interest detected`,
    `Resistance broken at key level`,
    `Market sentiment: ${['Bullish','Neutral','Bearish'][Math.floor(Math.random()*3)]}`
  ];
  addUpdate(`üìä Tracking ${selectedArticle.symbol} started`);
  setInterval(()=>{
    const msg=updates[Math.floor(Math.random()*updates.length)];
    const pos=Math.random()>0.5;
    addUpdate(msg,pos);
  },5000);
  chartUpdateInterval=setInterval(updateChart,3000);
}

document.addEventListener('DOMContentLoaded', displayArticle);

document.querySelector('.btn-trade').addEventListener('click',()=>{alert(`üöÄ Redirecting to Trade ${selectedArticle.symbol}...`);});
document.querySelector('.btn-bookmark').addEventListener('click',()=>{alert(`‚úÖ Article bookmarked!`);});
document.querySelector('.btn-share').addEventListener('click',()=>{alert(`üì§ Share link copied!`);});
</script>

</body>
</html>
